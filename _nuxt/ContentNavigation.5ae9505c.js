import{q as c,h as p,e as v,j as l,u as d}from"./query.4e235b45.js";import{m as f,_ as g,a as y,t as h,i as C,z as w,p as x,s as r}from"./entry.ccd854ff.js";import{_ as P}from"./nuxt-link.2770da31.js";import{w as m,s as $,a as N,b as T}from"./utils.c82d394e.js";/* empty css                   */import"./Icon.vue.47ee867f.js";/* empty css                   *//* empty css                      *//* empty css                    */const b=async n=>{const{content:t}=f().public;typeof(n==null?void 0:n.params)!="function"&&(n=c(n));const e=n.params(),s=t.experimental.stripQueryParameters?m(`/navigation/${`${p(e)}.${t.integrity}`}/${v(e)}.json`):m(`/navigation/${p(e)}.${t.integrity}.json`);if($())return(await g(()=>import("./client-db.8e5ddbee.js"),["./client-db.8e5ddbee.js","./entry.ccd854ff.js","./entry.b0b9e949.css","./utils.c82d394e.js","./query.4e235b45.js","./index.a6ef77ff.js"],import.meta.url).then(o=>o.generateNavigation))(e);const a=await $fetch(s,{method:"GET",responseType:"json",params:t.experimental.stripQueryParameters?void 0:{_params:l(e),previewToken:N("previewToken").value}});if(typeof a=="string"&&a.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return a};const I=y({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(n){const{query:t}=h(n),e=C(()=>{var a;return typeof((a=t.value)==null?void 0:a.params)=="function"?t.value.params():t.value});if(!e.value&&w("dd-navigation").value){const{navigation:a}=T();return{navigation:a}}const{data:s}=await d(`content-navigation-${p(e.value)}`,()=>b(e.value));return{navigation:s}},render(n){const t=x(),{navigation:e}=n,s=o=>r(P,{to:o._path},()=>o.title),a=(o,_)=>r("ul",_?{"data-level":_}:null,o.map(i=>i.children?r("li",null,[s(i),a(i.children,_+1)]):r("li",null,s(i)))),u=o=>a(o,0);return t!=null&&t.default?t.default({navigation:e,...this.$attrs}):u(e)}});export{I as default};
