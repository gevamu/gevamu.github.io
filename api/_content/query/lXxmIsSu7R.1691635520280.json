{"_path":"/examples/register-participant","_dir":"examples","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Participant registration","description":"In order to send payments, you need to register a Participant within the Gevamu Payments Solution. This example shows how to register a Participant node.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"participant-registration"},"children":[{"type":"text","value":"Participant registration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to send payments, you need to register a Participant within the Gevamu Payments Solution. This example shows how to register a Participant node."}]},{"type":"element","tag":"mermaid","props":{"code":"Y2xhc3NEaWFncmFtCiAgY2xhc3MgTXlQYXltZW50U2VydmljZSB7CiAgICArIHJlZ2lzdGVyVmlhR2V2YW11KCkKICB9CiAgY2xhc3MgR2V2YW11RmFjYWRlIHsKICAgICsgcmVnaXN0ZXJQYXJ0aWNpcGFudCgpCiAgfQoKICBNeVBheW1lbnRTZXJ2aWNlIC4uPiBHZXZhbXVGYWNhZGU="},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Gevamu Payments Solution provides "},{"type":"element","tag":"a","props":{"href":"https://gevamu.github.io/corda-payments-sdk/payments-workflows/com.gevamu.corda.flows/-register-participant-flow/index.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RegisterParticipantFlow"}]}]},{"type":"text","value":" as the flow for registration and "},{"type":"element","tag":"a","props":{"href":"https://gevamu.github.io/corda-payments-sdk/payments-workflows/com.gevamu.corda.flows/-participant-registration/index.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ParticipantRegistration"}]}]},{"type":"text","value":" as the participant registration record."}]},{"type":"element","tag":"h2","props":{"id":"registering-a-participant-node-using-classes-provided-by-gevamu-sdk"},"children":[{"type":"text","value":"Registering a Participant Node using classes provided by Gevamu SDK"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See an example of calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RegisterParticipantFlow"}]},{"type":"text","value":" below:"}]},{"type":"element","tag":"code","props":{"code":"import com.gevamu.corda.flows.ParticipantRegistration\nimport com.gevamu.corda.flows.RegisterParticipantFlow\nimport net.corda.core.identity.Party\nimport net.corda.core.node.services.CordaService\n\nclass GevamuFacade {\n  \n  fun registerParticipant(gateway: Party): ParticipantRegistration {\n        val flowHandle = serviceHub.startFlow(RegisterParticipantFlow(gateway))\n        return flowHandle.returnValue.get()\n    }\n}\n","language":"kotlin","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e6241"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eb194d"},"children":[{"type":"text","value":"com.gevamu.corda.flows.ParticipantRegistration"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e6241"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eb194d"},"children":[{"type":"text","value":"com.gevamu.corda.flows.RegisterParticipantFlow"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e6241"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eb194d"},"children":[{"type":"text","value":"net.corda.core.identity.Party"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e6241"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eb194d"},"children":[{"type":"text","value":"net.corda.core.node.services.CordaService"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e6241"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-eb194d"},"children":[{"type":"text","value":"GevamuFacade"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"  "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5e6241"},"children":[{"type":"text","value":"fun"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ff3c56"},"children":[{"type":"text","value":"registerParticipant"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"gateway"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-eb194d"},"children":[{"type":"text","value":"Party"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"class":"ct-eb194d"},"children":[{"type":"text","value":"ParticipantRegistration"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5e6241"},"children":[{"type":"text","value":"val"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" flowHandle "}]},{"type":"element","tag":"span","props":{"class":"ct-d0788d"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" serviceHub.startFlow("}]},{"type":"element","tag":"span","props":{"class":"ct-eb194d"},"children":[{"type":"text","value":"RegisterParticipantFlow"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"(gateway))"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5e6241"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":" flowHandle.returnValue.get()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-550059"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RegisterParticipantFlow"}]},{"type":"text","value":" requests registration from the Gevamu Gateway node identified via the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Party"}]},{"type":"text","value":" instance."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may choose to design your CorDapp so that it initiates the Participant node registration flow via an RPC call or using the "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/api-ref/corda/4.8/open-source/kotlin/corda/net.corda.core.node/-service-hub/index.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"serviceHub"}]}]},{"type":"text","value":" as in the example above."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Upon successful registration, the Payment Gateway node returns the participant registration record with the Participant ID and the BNO Network ID.\nThe structure of the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ParticipantRegistration"}]},{"type":"text","value":" data class is shown below."}]},{"type":"element","tag":"mermaid","props":{"code":"Y2xhc3NEaWFncmFtCiAgY2xhc3MgUGFydGljaXBhbnRSZWdpc3RyYXRpb24gewogICAgbmV0d29ya0lkOiBTdHJpbmcKICAgIHBhcnRpY2lwYW50SWQ6IFN0cmluZwogIH0="},"children":[]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-d0788d{color:#56B6C2}\n.ct-ff3c56{color:#61AFEF}\n.ct-eb194d{color:#E5C07B}\n.ct-550059{color:#ABB2BF}\n.ct-5e6241{color:#C678DD}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"registering-a-participant-node-using-classes-provided-by-gevamu-sdk","depth":2,"text":"Registering a Participant Node using classes provided by Gevamu SDK"}]}},"_type":"markdown","_id":"content:4.examples:register-participant.md","_source":"content","_file":"4.examples/register-participant.md","_extension":"md"}