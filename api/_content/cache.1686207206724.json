{"generatedAt":1686207227345,"generateTime":17,"contents":[{"_path":"/_terms/bno","_dir":"_terms","_draft":false,"_partial":true,"_locale":"","_empty":false,"title":"Business network operator (BNO)","description":"A coordinating party of a Corda business network who manages the distribution of the app and rules, including membership, for its use.","alias":["Business network operator","Business Network Operator","business network operator","BNO"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A coordinating party of a Corda business network who manages the distribution of the app and rules, including membership, for its use."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the term in "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/platform/corda/4.9/community/introduction/bno.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"R3 documentation"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:_terms:bno.md","_source":"content","_file":"_terms/bno.md","_extension":"md"},{"_path":"/_terms/corda-business-network","_dir":"_terms","_draft":false,"_partial":true,"_locale":"","_empty":false,"title":"Corda business network","description":"A logical network based on a set of common CorDapps as well as a shared business context;  a sub-group of Corda Network participants coordinated by a BNO","alias":["corda business network","CBN"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A logical network based on a set of common CorDapps as well as a shared business context;  a sub-group of Corda Network participants coordinated by a BNO"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the term in "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/platform/corda/4.9/community/corda-network/corda-network-foundation.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"R3 documentation"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:_terms:corda-business-network.md","_source":"content","_file":"_terms/corda-business-network.md","_extension":"md"},{"_path":"/_terms/corda-network","_dir":"_terms","_draft":false,"_partial":true,"_locale":"","_empty":false,"title":"Corda Network","description":"A publicly-available internet of Corda nodes operated by network participants","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A publicly-available internet of Corda nodes operated by network participants"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See more in "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/platform/corda/4.9/community/corda-network/corda-network-foundation.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"R3 documentation"}]},{"type":"text","value":" and on the "},{"type":"element","tag":"a","props":{"href":"https://corda.network/","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"Corda Network"}]},{"type":"text","value":" official website"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:_terms:corda-network.md","_source":"content","_file":"_terms/corda-network.md","_extension":"md"},{"_path":"/_terms/flow","_dir":"_terms","_draft":false,"_partial":true,"_locale":"","_empty":false,"title":"Flow","description":"A sequence of steps that tells a Corda node how to achieve a specific ledger update","alias":["flow"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A sequence of steps that tells a Corda node how to achieve a specific ledger update"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the term in "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/platform/corda/4.9/community/key-concepts-flows.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"R3 documentation"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:_terms:flow.md","_source":"content","_file":"_terms/flow.md","_extension":"md"},{"_path":"/_terms/participant","_dir":"_terms","_draft":false,"_partial":true,"_locale":"","_empty":false,"title":"Participant","description":"An account that initiates transfer of funds through the Payment Service Provider (PSP)","alias":["participant"],"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"participant"},"children":[{"type":"text","value":"Participant"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An account that initiates transfer of funds through the Payment Service Provider (PSP)"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:_terms:participant.md","_source":"content","_file":"_terms/participant.md","_extension":"md"},{"_path":"/_terms/payment-instruction","_dir":"_terms","_draft":false,"_partial":true,"_locale":"","_empty":false,"title":"Payment instruction","description":"A payment request formatted according to a specific payment standard (e.g. ISO 20022) sent by the Participant and transformed into a Corda state to be used in the payment flow","alias":["payment instruction","PI"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A payment request formatted according to a specific payment standard (e.g. ISO 20022) sent by the Participant and transformed into a Corda state to be used in the payment flow"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:_terms:payment-instruction.md","_source":"content","_file":"_terms/payment-instruction.md","_extension":"md"},{"_path":"/_terms/psp","_dir":"_terms","_draft":false,"_partial":true,"_locale":"","_empty":false,"title":"Payment service provider (PSP)","description":"An intermediary (e.g. a bank) between participants who transfer funds and organizations that accept them","alias":["Payment service provider","Payment Service Provider","payment service provider","PSP"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An intermediary (e.g. a bank) between participants who transfer funds and organizations that accept them"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:_terms:psp.md","_source":"content","_file":"_terms/psp.md","_extension":"md"},{"_path":"/_terms/state","_dir":"_terms","_draft":false,"_partial":true,"_locale":"","_empty":false,"title":"State","description":"A data structure representing a fact on the ledger","alias":["State","state","states"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A data structure representing a fact on the ledger"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the term in "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/platform/corda/4.8/open-source/key-concepts-states.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"R3 documentation"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:_terms:state.md","_source":"content","_file":"_terms/state.md","_extension":"md"},{"_path":"/","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"What's Gevamu?","description":"Gevamu* Payments Solution, developed by Exactpro based on R3 Corda, is aimed at fund distribution between a payer (the Participant) and a payment service provider (PSP).","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"whats-gevamu"},"children":[{"type":"text","value":"What's Gevamu?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://gevamu.com/","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"Gevamu* Payments Solution"}]},{"type":"text","value":", developed by "},{"type":"element","tag":"a","props":{"href":"https://exactpro.com/","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"Exactpro"}]},{"type":"text","value":" based on "},{"type":"element","tag":"a","props":{"href":"https://www.r3.com/products/corda/","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"R3 Corda"}]},{"type":"text","value":", is aimed at fund distribution between a payer (the "},{"type":"element","tag":"term","props":{"term":"Participant"},"children":[{"type":"text","value":"Participant"}]},{"type":"text","value":") and a "},{"type":"element","tag":"term","props":{"term":"PSP"},"children":[{"type":"text","value":"payment service provider"}]},{"type":"text","value":" (PSP)."}]},{"type":"element","tag":"h2","props":{"id":"functionality"},"children":[{"type":"text","value":"Functionality"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The solution allows the Participant to initiate a payment flow by calling the Gevamu Payments SDK implemented in a custom Payments CorDapp installed on their node in a "},{"type":"element","tag":"term","props":{"term":"CBN"},"children":[{"type":"text","value":"Corda business network"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A "},{"type":"element","tag":"term","props":{"term":"PI"},"children":[{"type":"text","value":"payment instruction"}]},{"type":"text","value":" submitted by the Participant as a document formatted according to a payment standard (e.g. ISO 20022) is consumed by the Payments CorDapp and passed through the Gevamu Gateway implemented as another CorDapp installed on the Corda node within the same business network."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Gevamu Gateway acts as an authorized end-point connected to the payment gateway on the side of the PSP and transfers the payment instruction received from the Participant on-chain to the PSP located off-chain. The Gevamu Payments solution manages the payment "},{"type":"element","tag":"term","props":{"term":"flow"},"children":[{"type":"text","value":"flow"}]},{"type":"text","value":". As part of the flow, it creates Corda "},{"type":"element","tag":"term","props":{"term":"states"},"children":[{"type":"text","value":"states"}]},{"type":"text","value":" and updates them based on responses received by the Payment Gateway from the PSP. Payment status updates are communicated back to the Participant."}]},{"type":"element","tag":"h2","props":{"id":"structure"},"children":[{"type":"text","value":"Structure"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The solution consists of a payments SDK and a payment gateway, which are to be deployed in a Corda business network managed by a Corda "},{"type":"element","tag":"term","props":{"term":"BNO"},"children":[{"type":"text","value":"Business Network Operator"}]},{"type":"text","value":" (BNO):"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Gevamu  Payments SDK"}]},{"type":"text","value":": a Java/Kotlin library containing classes and methods used by the payment workflow. The SDK’s functionality is the core part of a custom CorDapp developed by the BNO or a third party and installed on the Participant’s node in a Corda business network operated by the BNO."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Gevamu Payments SDK is distributed as an open-source software under Apache-2.0 License. Its source code is "},{"type":"element","tag":"a","props":{"href":"https://github.com/gevamu/corda-payments-sdk","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"available on GitHub"}]},{"type":"text","value":". "}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Gevamu Payment Gateway"}]},{"type":"text","value":": a CorDapp managing on-chain payment flows initiated by the Participant through the Gevamu Payments SDK and communicating with an off-chain payment service provider gateway to pass payment instructions and receive payment status updates."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Gevamu Payments Gateway is proprietary technology licensed by Exactpro."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Gevamu Payments SDK and Payments Gateway are developed based on R3 Corda 4.x."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"System requirements of the implementation depend on the scope of a final system.\nFor hardware and software requirements for development on Corda, see official "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/platform/corda/4.8/open-source/getting-set-up.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"R3 documentation"}]},{"type":"text","value":"."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"*from Sinhala: ගෙවමු – "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Let’s pay"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"functionality","depth":2,"text":"Functionality"},{"id":"structure","depth":2,"text":"Structure"}]}},"_type":"markdown","_id":"content:1.index.md","_source":"content","_file":"1.index.md","_extension":"md"},{"_path":"/application","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Application","description":"While the scope of the Gevamu payments solution comprises two components – the Payments SDK and Payments Gateway, – it is expected to be used as a part of solutions spanning various use cases.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"application"},"children":[{"type":"text","value":"Application"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"While the scope of the Gevamu payments solution comprises two components – the Payments SDK and Payments Gateway, – it is expected to be used as a part of solutions spanning various use cases."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Potential use cases for the Gevamu payments solution include but are not limited to:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"payment infrastructures"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"exchanges and central counterparties"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"DLT-based and hybrid platforms"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"financial standards and protocols"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"asset classes: fiat, digital assets (including CBDCs and NFTs)"}]}]},{"type":"element","tag":"h2","props":{"id":"example-payments-ecosystem"},"children":[{"type":"text","value":"Example: Payments ecosystem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The diagram below illustrates a use case of Gevamu Payments solution being integrated into a hybrid DLT/non-DLT payments ecosystem."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Sample implementation schema","src":"/img/Sample_implementation.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the sample configuration proposed on the diagram, the Gevamu payments solution (Payments SDK and Payments Gateway) interacts with the following components:"}]},{"type":"element","tag":"h3","props":{"id":"client-application"},"children":[{"type":"text","value":"Client Application"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Most typically, the Client Application is a Web UI or a mobile application on a user’s machine. It is developed by the Participant/BNO organization and customized according to their needs. By filling out a payment form in the Client Application’s UI, the Participant specifies necessary information about the payment and triggers the payment initiation process that is subsequently to be handled by the Gevamu Payments SDK and Payments Gateway’s Corda flows."}]},{"type":"element","tag":"h3","props":{"id":"middleware"},"children":[{"type":"text","value":"Middleware"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Middleware is a backend to enable communication between the Client Application and the Participant Node in the Corda Network. The payment data specified by the Participant through the Client Application is processed and sent to the Payments CorDapp to be translated into the payment instruction by the Gevamu Payments SDK. The middleware is developed by the Participant/BNO."}]},{"type":"element","tag":"notice","props":{":note":"true","note":true},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A sample Client Application UI along with middleware is developed by Exactpro. In this implementation, the middleware communicates with the Client Application via REST API; its communication with the Payments CorDapp is done via Corda RPC. The source code of both sample components is available as a "},{"type":"element","tag":"a","props":{"href":"https://github.com/gevamu/corda-payments-sdk/tree/master/payments-app-sample","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"supplementary part of the Payments SDK"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"corda-network"},"children":[{"type":"text","value":"Corda network"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Corda network is a publicly-available internet of Corda nodes operated by network participants. Its subset (business network) is managed by the BNO. In the context of the payment solution described here, such a network hosts the Corda nodes where both parts of the Gevamu solution are deployed as CorDapps."}]},{"type":"element","tag":"h3","props":{"id":"participant-node"},"children":[{"type":"text","value":"Participant node"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A node in the Corda business network with the Payments CorDapp installed on it"}]},{"type":"element","tag":"h3","props":{"id":"payments-cordapp"},"children":[{"type":"text","value":"Payments CorDapp"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A custom CorDapp developed by the Participant or the BNO using the Gevamu Payments SDK"}]},{"type":"element","tag":"h3","props":{"id":"gateway-node"},"children":[{"type":"text","value":"Gateway node"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Gateway node is a node in the Corda business network where the Gevamu Payments Gateway is installed as a CorDapp. The Gateway node communicates on-chain with the Participant’s CorDapp based on the Gevamu Payments SDK via a proprietary API; the connection with the PSP is off-chain."}]},{"type":"element","tag":"notice","props":{":info":"true","info":true},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To simplify the development of a custom Payments CorDapp in the absence of the Gevamu Payments Gateway license, a payments gateway stub is developed by Exactpro and available as a supplementary to the Gevamu Payments SDK."}]}]},{"type":"element","tag":"h3","props":{"id":"psp-payments-gateway"},"children":[{"type":"text","value":"PSP payments gateway"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An endpoint of a proprietary off-chain payments solution on the PSP side"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"example-payments-ecosystem","depth":2,"text":"Example: Payments ecosystem","children":[{"id":"client-application","depth":3,"text":"Client Application"},{"id":"middleware","depth":3,"text":"Middleware"},{"id":"corda-network","depth":3,"text":"Corda network"},{"id":"participant-node","depth":3,"text":"Participant node"},{"id":"payments-cordapp","depth":3,"text":"Payments CorDapp"},{"id":"gateway-node","depth":3,"text":"Gateway node"},{"id":"psp-payments-gateway","depth":3,"text":"PSP payments gateway"}]}]}},"_type":"markdown","_id":"content:2.application.md","_source":"content","_file":"2.application.md","_extension":"md"},{"_path":"/workflow","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Workflow","description":"Gevamu solution supports the following business flows:","navigation":false,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"workflow"},"children":[{"type":"text","value":"Workflow"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gevamu solution supports the following business flows:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"BNO onboarding: registration of the Gevamu Payments Gateway with the PSP."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Participant onboarding: registration of a Participant in the BNO network and with Gevamu Payments Gateway."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Payment initiation: a process initiated by the Participant and handled by Gevamu solution.\n"},{"type":"element","tag":"img","props":{"alt":"Workflows supported by the Gevamu solution","src":"/img/Workflows.png"},"children":[]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.workflow:1.index.md","_source":"content","_file":"3.workflow/1.index.md","_extension":"md"},{"_path":"/workflow/bno-onboarding","_dir":"workflow","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"1. BNO onboarding","description":"The BNO onboarding process consists of the following steps:","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"1-bno-onboarding"},"children":[{"type":"text","value":"1. BNO onboarding"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The BNO onboarding process consists of the following steps:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The PSP provides HTTPS endpoint details, and assigns a Network ID to the BNO."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The BNO provides HTTPS endpoint details to the PSP."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The BNO sets up the Payments Gateway as a node within their Corda network (Gevamu Payments Gateway binaries are provided by Exactpro) using configuration details exchanged previously."}]}]},{"type":"element","tag":"mermaid","props":{"code":"c2VxdWVuY2VEaWFncmFtCiAgICAgYXV0b251bWJlcgoKICAgICUlIGNvZGUgYmxvY2sgJSUgCiAgICBwYXJ0aWNpcGFudCBwc3AgYXMgUFNQCiAgICBib3ggQ29yZGEgTmV0d29yawogICAgcGFydGljaXBhbnQgYm5vIGFzIEJOTwogICAgcGFydGljaXBhbnQgZ3BnIGFzIEdldmFtdSBQYXltZW50IEdhdGV3YXkKICAgIGVuZAoKICAgIE5vdGUgcmlnaHQgb2YgcHNwOiBPZmYtY2hhaW4KICAgIHBzcCAtPj4gYm5vOiBQcm92aWRlcyBIVFRQUyBlbmRwb2ludHM8YnIvPiBhbmQgYXNzaWducyBOZXR3b3JrIElEIHRvIEJOTwogICAgYm5vIC0+PiBwc3A6IFByb3ZpZGVzIEhUVFBTIGVuZHBvaW50cwogICAgCiAgICBOb3RlIHJpZ2h0IG9mIGJubzogT24tY2hhaW4KICAgIGJubyAtPj4gZ3BnOiBCTk8gc2V0cyB1cCB0aGUgUGF5bWVudHMgR2F0ZXdheQ=="},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.workflow:2.BNO-onboarding.md","_source":"content","_file":"3.workflow/2.BNO-onboarding.md","_extension":"md"},{"_path":"/workflow/participant-onboarding","_dir":"workflow","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"2. Participant onboarding","description":"To onboard the Participant, the following steps are performed:","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"2-participant-onboarding"},"children":[{"type":"text","value":"2. Participant onboarding"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To onboard the Participant, the following steps are performed:"}]},{"type":"element","tag":"notice","props":{":info":"true","info":true},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Prerequisite: the Participant has installed a custom CorDapp developed by the BNO or a 3rd party and enhanced with the functionality added by Gevamu Payment SDK."}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Participant requests to join the Payments network."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Gevamu Payments Gateway provides the Participant with the Network ID, assigns them a Participant ID, and registers the Payments CorDapp."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Network ID and Participant ID are displayed in the Client Application."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To access the payments service, the Participant registers with the PSP directly by submitting the combination of the Network ID and Participant ID received from the Payments Gateway."}]}]},{"type":"element","tag":"mermaid","props":{"code":"c2VxdWVuY2VEaWFncmFtCiAKICUlIHVzaW5nIHNsaWRlIDEyCgogIHBhcnRpY2lwYW50IHAgYXMgUGFydGljaXBhbnQKICBwYXJ0aWNpcGFudCBjYSBhcyBDbGllbnQgQXBwbGljYXRpb24KICBib3ggQ29yZGEgTmV0d29yawogIHBhcnRpY2lwYW50IHBjIGFzIFBheW1lbnQgQ29yRGFwcCBwb3dlcmVkIGJ5IEdldmFtdSBQYXltZW50IFNESyAKICBwYXJ0aWNpcGFudCBnbiBhcyBHZXZhbXUgUGF5bWVudHMgR2F0ZXdheSBOb2RlCiAgZW5kCiAgcGFydGljaXBhbnQgcHNwIGFzIEJhbmsvUFNQCgogIGNhIC0+PiBwYzogUmVxdWVzdCB0byBqb2luIGFzIGEgUGFydGljaXBhbnQKCiAgCiAgcGMgLT4+IGduOiBSZWdpc3RyYXRpb24gcmVxdWVzdAogIE5vdGUgcmlnaHQgb2YgcGM6IE9uLWNoYWluCiAgZ24gLT4+IHBjOiBQcm92aWRlIE5ldHdvcmsgSUQgPGJyLz4gQXNzaWduIFBhcnRpY2lwYW50IElECiAgCiAgcGMgLT4+IGNhOiBQYXJ0aWNpcGFudCdzIGNyZWRlbnRpYWxzCiAgY2EgLT4+IGNhOiBEaXNwbGF5IE5ldHdvcmsgSWQgPGJyLz4gYW5kIFBhcnRpY2lwYW50IElkCiAgcCAtPj4gcHNwOiBSZWdpc3RlciB3aXRoIFBTUCB3aXRoIE5ldHdvcmsgSWQgYW5kIFBhcnRpY2lwYW50IElk"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.workflow:3.participant-onboarding.md","_source":"content","_file":"3.workflow/3.participant-onboarding.md","_extension":"md"},{"_path":"/workflow/payment-initiation","_dir":"workflow","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"3. Payment initiation","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"3-payment-initiation"},"children":[{"type":"text","value":"3. Payment initiation"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Participant initiates the payment transaction off-chain via a Web UI. The payment request is handled by a web server on the Participant’s node of the Corda business network and sent via Corda RPC to the custom Payment CorDapp installed on the Participant’s node on-chain."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Participant’s request is accepted by the CorDapp on the Participant’s node and is transformed to a payment instruction formatted according to the industry-accepted payment standard (ISO 20022 formatted XML representing a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CustomerCreditTransferInitiation"}]},{"type":"text","value":" message) to be passed to Gevamu Payments SDK. Gevamu Payments SDK pre-validates the payment instruction and creates a state (or several states if multiple payments are instructed) with an attachment containing the original payment instruction."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The payment instruction is sent to Gevamu Payments Gateway."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Gevamu Payments Gateway validates the payment instruction. If valid, its status is updated (to reflect that the payment instruction is accepted by the Payments Gateway for further delivery); the payment instruction itself is sent to the external gateway of the PSP. If not valid, a corresponding status is sent back to the Participant’s CorDapp."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The payments gateway checks if the Participant is authorized to submit this payment request, it validates the payment instruction from the following aspects:"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Node Identity – whether a payment request is received from the node that initially registered the Participant initiating the request;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Participant ID – whether the Participant is registered with the Payments network and if Participant ID is registered to the Participant’s node;"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Once the PSP replies to the payment request, a returned payment status ("},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Accepted"}]},{"type":"text","value":", "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Pending"}]},{"type":"text","value":" or "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Rejected"}]},{"type":"text","value":") is propagated back to the Participant’s node. The updated status is made available as a new Corda state in the payment statuses chain."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The participant’s CorDapp may subscribe to the payment state updates to be notified on Payment processing progress."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If the payment instruction cannot be immediately settled by the PSP, the PSP notifies the Payments Gateway when the payment status is updated. The Payments Gateway transfers the updated payment request status to the Participant’s node."}]}]},{"type":"element","tag":"mermaid","props":{"code":"LS0tCnRpdGxlOiBJbml0aWF0ZSBQYXltZW50Ci0tLQpzZXF1ZW5jZURpYWdyYW0KICAgCiAgICBwYXJ0aWNpcGFudCBwY2QgYXMgUGF5bWVudCBDb3JEYXBwPGJyLz4gaW4gUGFydGljaXBhbnQgTm9kZQogICAgcGFydGljaXBhbnQgZ3BnIGFzIEdldmFtdSBQYXltZW50IEdhdGV3YXkKICAgIHBhcnRpY2lwYW50IHBzcCBhcyBQU1AvQmFuawoKICAgIHBjZCAtPj4gcGNkOiBDcmVhdGUgcGF5bWVudCBzdGF0ZSA8YnIvPihTRU5UX1RPX0dBVEVXQVkpCiAgICBwY2QgLT4+IGdwZzogUmVxdWVzdCB0byBzZW5kIFBheW1lbnQ8YnIvPltTZW5kUGF5bWVudEZsb3ddCiAgICBncGcgLT4+IGdwZzogVmFsaWRhdGUgcmVxdWVzdDxici8+KE5vdCBpbXBsZW1lbnRlZCxFdmVyeSByZXF1ZXN0IHBhc3NlcykKCiUlIFZhbGlkIHJlcXVlc3QKICAgICAgICBncGcgLT4+IHBjZDogVmFsaWQgUGF5bWVudCBzdGF0dXMgW1N0YXR1c1VwZGF0ZUZsb3ddCiAgICAgICAgcGNkIC0+PiBwY2Q6IFVwZGF0ZSBwYXltZW50IHN0YXRlIDxici8+IFBFTkRJTkcKICAgICAgICBncGcgLT4+IHBzcDogUGF5bWVudCBpbnN0cnVjdGlvbiA8YnIvPiBbU2VuZFBheW1lbnRGbG93UmVzcG9uZGVyXQoKICAgICUlIFJlamVjdGVkIGJ5IFBTUAoKICAgICAgICBhbHQgUmVxdWVzdCBpcyByZWplY3RlZCBieSBQU1AKICAgICAgICAgICAgcHNwIC0+PiBncGc6IFJlamVjdGVkIFBheW1lbnQgc3RhdHVzCiAgICAgICAgICAgIGdwZyAtPj4gcGNkOiBSZWplY3RlZCBQYXltZW50IHN0YXR1cyA8YnIvPiAgW1N0YXR1c1VwZGF0ZUZsb3ddCiAgICAgICAgICAgIHBjZCAtPj4gcGNkOiBVcGRhdGUgUGF5bWVudCBzdGF0ZSA8YnIvPiBSRUpFQ1RFRAoKICAgICUlIEFjY2VwdGVkIGJ5IFBTUCAKCiAgICAgICAgZWxzZSBSZXF1ZXN0IGlzIGFjY2VwdGVkIGJ5IFBTUAogICAgICAgICAgICBwc3AgLT4+IGdwZzogU2V0dGxlZCBQYXltZW50IHN0YXR1cwogICAgICAgICAgICBncGcgLT4+IHBjZDogU2V0dGxlZCBQYXltZW50IHN0YXR1cyA8YnIvPiAgW1N0YXR1c1VwZGF0ZUZsb3ddCiAgICAgICAgICAgIHBjZCAtPj4gcGNkOiBVcGRhdGUgcGF5bWVudCBzdGF0ZSA8YnIvPiBBQ0NFUFRFRAogICAgICAgIGVuZA=="},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.workflow:4.payment-initiation.md","_source":"content","_file":"3.workflow/4.payment-initiation.md","_extension":"md"},{"_path":"/examples","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Examples","description":"This section contains examples of how to use the various features of the Gevamu Payments Solution.","navigation":false,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"examples"},"children":[{"type":"text","value":"Examples"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This section contains examples of how to use the various features of the Gevamu Payments Solution."}]},{"type":"element","tag":"h2","props":{"id":"architecture"},"children":[{"type":"text","value":"Architecture"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An abstract CorDapp will be used as a sample to demonstrate a possible architecture of your app integrated with the Gevamu Payments Solution."}]},{"type":"element","tag":"mermaid","props":{"code":"LS0tCnRpdGxlOiBEZXBlbmRlbmNpZXMKLS0tCgpmbG93Y2hhcnQgTFIKICB0YXJnZXRbWW91ciBBcHBdCiAgbmV0LmNvcmRhOmNvcmRhLWNvcmUgLS0+IHRhcmdldAogIGNvbS5nZXZhbXUuY29yZGE6cGF5bWVudHMtd29ya2Zsb3dzIC0tPiB0YXJnZXQKICBjb20uZ2V2YW11LmNvcmRhOnBheW1lbnRzLWNvbnRyYWN0cyAtLT4gdGFyZ2V0CiAgY3VzdG9tWy4uLiB5b3VyIGRlcGVuZGVuY2llc10gLS0+IHRhcmdldA=="},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See a sample dependencies configuration in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"build.gradle.kts"}]},{"type":"text","value":" file:"}]},{"type":"element","tag":"code","props":{"code":"repositories {\n    mavenCentral()\n    // Repository with corda artifacts\n    maven(\"https://software.r3.com/artifactory/corda\")\n}\n\ndependencies {\n    // Core Corda dependencies\n    implementation(\"net.corda:corda-core:4.9.3\")\n    // Gevamu dependencies\n    implementation(\"com.gevamu.corda:payments-workflows:0.1.0\")\n    implementation(\"com.gevamu.corda:payments-contracts:0.1.0\")\n}\n\n","filename":"build.gradle.kts","language":"kotlin","meta":"[build.gradle.kts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"repositories {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"    mavenCentral()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-bf8592"},"children":[{"type":"text","value":"// Repository with corda artifacts"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"    maven("}]},{"type":"element","tag":"span","props":{"class":"ct-92a5a4"},"children":[{"type":"text","value":"\"https://software.r3.com/artifactory/corda\""}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"dependencies {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-bf8592"},"children":[{"type":"text","value":"// Core Corda dependencies"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"    implementation("}]},{"type":"element","tag":"span","props":{"class":"ct-92a5a4"},"children":[{"type":"text","value":"\"net.corda:corda-core:4.9.3\""}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-bf8592"},"children":[{"type":"text","value":"// Gevamu dependencies"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"    implementation("}]},{"type":"element","tag":"span","props":{"class":"ct-92a5a4"},"children":[{"type":"text","value":"\"com.gevamu.corda:payments-workflows:0.1.0\""}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"    implementation("}]},{"type":"element","tag":"span","props":{"class":"ct-92a5a4"},"children":[{"type":"text","value":"\"com.gevamu.corda:payments-contracts:0.1.0\""}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The examples describe different methods in the sample "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GevamuFacade"}]},{"type":"text","value":" class. This class implements a facade pattern and provides a simple interface to the Gevamu Payments Solution."}]},{"type":"element","tag":"mermaid","props":{"code":"Y2xhc3NEaWFncmFtCiAgY2xhc3MgR2V2YW11RmFjYWRlIHsKICAgICsgc2VuZFBheW1lbnQoKQogICAgKyByZWdpc3RlclBhcnRpY2lwYW50KCkKICAgICsgZ2V0UGF5bWVudCgpCiAgICArIHF1ZXJ5UGF5bWVudHMoKQogIH0="},"children":[]},{"type":"element","tag":"h2","props":{"id":"template"},"children":[{"type":"text","value":"Template"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to have access to Corda flows and services, the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GevamuFacade"}]},{"type":"text","value":" class should be implemented as a Corda service."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Read more about Corda services implementation in "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/platform/corda/4.7/enterprise/cordapps/api-service-classes.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"Corda documentation"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"import net.corda.core.node.AppServiceHub\nimport net.corda.core.node.services.CordaService\nimport net.corda.core.serialization.SingletonSerializeAsToken\n\n@CordaService\nclass GevamuFacade(private val serviceHub: AppServiceHub): SingletonSerializeAsToken() {\n    // Here goes the implementation of the GevamuFacade class\n}\n","language":"kotlin","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d851a3"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a67059"},"children":[{"type":"text","value":"net.corda.core.node.AppServiceHub"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d851a3"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a67059"},"children":[{"type":"text","value":"net.corda.core.node.services.CordaService"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d851a3"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a67059"},"children":[{"type":"text","value":"net.corda.core.serialization.SingletonSerializeAsToken"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d851a3"},"children":[{"type":"text","value":"@CordaService"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d851a3"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a67059"},"children":[{"type":"text","value":"GevamuFacade"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d851a3"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d851a3"},"children":[{"type":"text","value":"val"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"serviceHub"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-a67059"},"children":[{"type":"text","value":"AppServiceHub"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"class":"ct-a67059"},"children":[{"type":"text","value":"SingletonSerializeAsToken"}]},{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"() {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-bf8592"},"children":[{"type":"text","value":"// Here goes the implementation of the GevamuFacade class"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-09195a"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-a67059{color:#E5C07B}\n.ct-d851a3{color:#C678DD}\n.ct-92a5a4{color:#98C379}\n.ct-bf8592{color:#7F848E}\n.ct-09195a{color:#ABB2BF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"architecture","depth":2,"text":"Architecture"},{"id":"template","depth":2,"text":"Template"}]}},"_type":"markdown","_id":"content:4.examples:0.index.md","_source":"content","_file":"4.examples/0.index.md","_extension":"md"},{"_path":"/examples/query-payment-states","_dir":"examples","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Query payment states","description":"Corda stores the state of a payment in the vault of the node that initiated the payment, so you can access the state of a payment by querying the vault.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"query-payment-states"},"children":[{"type":"text","value":"Query payment states"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Corda stores the state of a payment in the vault of the node that initiated the payment, so you can access the state of a payment by querying the vault."}]},{"type":"element","tag":"mermaid","props":{"code":"Y2xhc3NEaWFncmFtCiAgY2xhc3MgTXlQYXltZW50U2VydmljZSB7CiAgICArIHF1ZXJ5UGF5bWVudHNWaWFHZXZhbXUoKQogIH0KICBjbGFzcyBHZXZhbXVGYWNhZGUgewogICAgKyBnZXRQYXltZW50KCkKICAgICsgcXVlcnlQYXltZW50cygpCiAgfQoKICBNeVBheW1lbnRTZXJ2aWNlIC4uPiBHZXZhbXVGYWNhZGU="},"children":[]},{"type":"element","tag":"h2","props":{"id":"payment-structure"},"children":[{"type":"text","value":"Payment structure"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Structure of the "},{"type":"element","tag":"a","props":{"href":"https://gevamu.github.io/corda-payments-sdk/payments-contracts/com.gevamu.corda.states/-payment/index.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Payment"}]}]},{"type":"text","value":" state is as follows:"}]},{"type":"element","tag":"mermaid","props":{"code":"Y2xhc3NEaWFncmFtCiAgY2xhc3MgUGF5bWVudCB7CiAgICArIHBheWVyOiBQYXJ0eQogICAgKyBnYXRld2F5OiBQYXJ0eQogICAgKyBlbmRUb0VuZElkOiBTdHJpbmcKICAgICsgcGF5bWVudEluc3RydWN0aW9uSWQ6IEF0dGFjaG1lbnRJZAogICAgKyBzdGF0dXM6IFBheW1lbnRTdGF0dXMKICAgICsgYWRkaXRpb25hbEluZm86IFN0cmluZz8KICAgICsgdW5pcXVlUGF5bWVudElkOiBVVUlECiAgICArIHRpbWVzdGFtcDogSW5zdGFudAogIH0KCiAgY2xhc3MgUGF5bWVudFN0YXR1c3sKICAgIDw8ZW51bWVyYXRpb24+PgogICAgQ1JFQVRFRAogICAgU0VOVF9UT19HQVRFV0FZCiAgICBBQ0NFUFRFRAogICAgUEVORElORwogICAgQ09NUExFVEVECiAgICBSRUpFQ1RFRAogIH0KCiAgY2xhc3MgQXR0YWNobWVudCB7CiAgICA8PGludGVyZmFjZT4+CiAgICArIGlkOiBTZWN1cmVIYXNoCiAgICArIG9wZW4oKTogSW5wdXRTdHJlYW0KICB9CgogIFBheW1lbnQgby0tIFBheW1lbnRTdGF0dXMKICBQYXltZW50IC4uIEF0dGFjaG1lbnQ6IHBheW1lbnRJbnN0cnVjdGlvbklkIC0tPiBpZA=="},"children":[]},{"type":"element","tag":"notice","props":{":info":"true","info":true},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that the full payment instruction is stored as a Corda "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/api-ref/corda/4.8/open-source/javadoc/net/corda/core/contracts/Attachment.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Attachment"}]}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"about-vault-queries"},"children":[{"type":"text","value":"About vault queries"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Every Corda node has a vault that stores all the states created by the node (in our case, the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Payment"}]},{"type":"text","value":" states)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Corda provides a powerful query language to search for states in the vault – learn more about "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/platform/corda/4.7/enterprise/cordapps/api-vault-query.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"Writing vault queries"}]},{"type":"text","value":" in Corda documentation."}]},{"type":"element","tag":"notice","props":{":warning":"true","warning":true},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gevamu SDK doesn't provide any ready-to-use solution for querying by payments details stored in the attachment. However, you can create additional tables with the information needed for your business needs and use them in vault queries.\nTo get all payment details from the attachment, download and deserialize it."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create queries for the Gevamu payments, use the following imports:"}]},{"type":"element","tag":"code","props":{"code":"// Corda imports\nimport net.corda.core.node.services.vault.QueryCriteria\n// Gevamu SDK imports\nimport com.gevamu.corda.schema.PaymentSchemaV1\nimport com.gevamu.corda.states.Payment\n","language":"kotlin","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7e0934"},"children":[{"type":"text","value":"// Corda imports"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"net.corda.core.node.services.vault.QueryCriteria"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7e0934"},"children":[{"type":"text","value":"// Gevamu SDK imports"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"com.gevamu.corda.schema.PaymentSchemaV1"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"com.gevamu.corda.states.Payment"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"get-a-single-payment"},"children":[{"type":"text","value":"Get a single payment"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To find a unique payment, search by the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"uniquePaymentId"}]},{"type":"text","value":" field, accepted by the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"getPayment"}]},{"type":"text","value":" method as a parameter."}]},{"type":"element","tag":"code","props":{"code":"import java.util.UUID\nimport net.corda.core.node.services.vault.QueryCriteria\nimport com.gevamu.corda.schema.PaymentSchemaV1\nimport com.gevamu.corda.states.Payment\n\nclass GevamuFacade {\n    fun getPayment(uniquePaymentId: UUID): StateAndRef<Payment>? {\n        // Create custom query criteria to search by id\n        val criteria = QueryCriteria.VaultCustomQueryCriteria(\n            // Pay attention to method `equal` here. It is not `equals`!\n            PaymentSchemaV1.PersistentPayment::uniquePaymentId.equal(uniquePaymentId)\n        )\n        // Query vault and return single payment state\n        return serviceHub.vaultService.queryBy<Payment>(criteria).states.singleOrNull()\n    }\n}\n","language":"kotlin","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"java.util.UUID"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"net.corda.core.node.services.vault.QueryCriteria"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"com.gevamu.corda.schema.PaymentSchemaV1"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"com.gevamu.corda.states.Payment"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"GevamuFacade"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"fun"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7a06f7"},"children":[{"type":"text","value":"getPayment"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"uniquePaymentId"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"UUID"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"StateAndRef"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"Payment"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"? {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-7e0934"},"children":[{"type":"text","value":"// Create custom query criteria to search by id"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"val"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" criteria "}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"QueryCriteria"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"VaultCustomQueryCriteria"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-7e0934"},"children":[{"type":"text","value":"// Pay attention to method `equal` here. It is not `equals`!"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"PaymentSchemaV1"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"PersistentPayment"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"::uniquePaymentId.equal(uniquePaymentId)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        )"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-7e0934"},"children":[{"type":"text","value":"// Query vault and return single payment state"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" serviceHub.vaultService.queryBy"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"Payment"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"(criteria).states.singleOrNull()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"query-payments"},"children":[{"type":"text","value":"Query payments"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Search criteria for payments can be unique to particular businesses. The following example shows a generic method for querying payments."}]},{"type":"element","tag":"code","props":{"code":"import net.corda.core.node.services.vault.QueryCriteria\nimport com.gevamu.corda.states.Payment\n\nclass GevamuFacade {\n    fun queryPayments(criteria: QueryCriteria): List<StateAndRef<Payment>> {\n        // Query vault and return list of payment states\n        return serviceHub.vaultService.queryBy<Payment>(criteria).states\n    }\n}\n","language":"kotlin","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"net.corda.core.node.services.vault.QueryCriteria"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"com.gevamu.corda.states.Payment"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"GevamuFacade"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"fun"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7a06f7"},"children":[{"type":"text","value":"queryPayments"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"criteria"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"QueryCriteria"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"StateAndRef"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"Payment"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":">>"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-7e0934"},"children":[{"type":"text","value":"// Query vault and return list of payment states"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" serviceHub.vaultService.queryBy"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"Payment"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"(criteria).states"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"query-payments-by-date-range"},"children":[{"type":"text","value":"Query payments by date range"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Querying objects by a date range is a common task for many businesses. The following example shows how to implement this functionality."}]},{"type":"element","tag":"code","props":{"code":"import java.time.Instant\nimport net.corda.core.node.services.vault.QueryCriteria\nimport com.gevamu.corda.schema.PaymentSchemaV1\nimport com.gevamu.corda.states.Payment\n\nclass GevamuFacade {\n    fun queryPaymentsByDateRange(from: Instant, to: Instant): List<StateAndRef<Payment>> {\n        // Create custom query criteria to search by date range\n        val criteria = QueryCriteria.VaultCustomQueryCriteria(\n            PaymentSchemaV1.PersistentPayment::timestamp.between(from, to)\n        )\n        // Query vault and return list of payment states\n        return serviceHub.vaultService.queryBy<Payment>(criteria).states\n    }\n}\n","language":"kotlin","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"java.time.Instant"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"net.corda.core.node.services.vault.QueryCriteria"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"com.gevamu.corda.schema.PaymentSchemaV1"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"com.gevamu.corda.states.Payment"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"GevamuFacade"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"fun"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7a06f7"},"children":[{"type":"text","value":"queryPaymentsByDateRange"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"Instant"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"Instant"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"StateAndRef"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"Payment"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":">>"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-7e0934"},"children":[{"type":"text","value":"// Create custom query criteria to search by date range"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"val"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" criteria "}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"QueryCriteria"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"VaultCustomQueryCriteria"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"PaymentSchemaV1"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"PersistentPayment"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"::timestamp.between(from, to)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        )"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-7e0934"},"children":[{"type":"text","value":"// Query vault and return list of payment states"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-308953"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":" serviceHub.vaultService.queryBy"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-bd79dd"},"children":[{"type":"text","value":"Payment"}]},{"type":"element","tag":"span","props":{"class":"ct-fd5038"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"(criteria).states"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1b93ae"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-fd5038{color:#56B6C2}\n.ct-7a06f7{color:#61AFEF}\n.ct-bd79dd{color:#E5C07B}\n.ct-1b93ae{color:#ABB2BF}\n.ct-308953{color:#C678DD}\n.ct-7e0934{color:#7F848E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"payment-structure","depth":2,"text":"Payment structure"},{"id":"about-vault-queries","depth":2,"text":"About vault queries"},{"id":"get-a-single-payment","depth":2,"text":"Get a single payment"},{"id":"query-payments","depth":2,"text":"Query payments","children":[{"id":"query-payments-by-date-range","depth":3,"text":"Query payments by date range"}]}]}},"_type":"markdown","_id":"content:4.examples:query-payment-states.md","_source":"content","_file":"4.examples/query-payment-states.md","_extension":"md"},{"_path":"/examples/register-participant","_dir":"examples","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Register","description":"In order to send payments, you need to register a participant within the Gevamu Payments Solution. This example shows how to register a participant node.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"register"},"children":[{"type":"text","value":"Register"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to send payments, you need to register a participant within the Gevamu Payments Solution. This example shows how to register a participant node."}]},{"type":"element","tag":"mermaid","props":{"code":"Y2xhc3NEaWFncmFtCiAgY2xhc3MgTXlQYXltZW50U2VydmljZSB7CiAgICArIHJlZ2lzdGVyVmlhR2V2YW11KCkKICB9CiAgY2xhc3MgR2V2YW11RmFjYWRlIHsKICAgICsgcmVnaXN0ZXJQYXJ0aWNpcGFudCgpCiAgfQoKICBNeVBheW1lbnRTZXJ2aWNlIC4uPiBHZXZhbXVGYWNhZGU="},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Gevamu Payments Solution provides "},{"type":"element","tag":"a","props":{"href":"https://gevamu.github.io/corda-payments-sdk/payments-workflows/com.gevamu.corda.flows/-register-participant-flow/index.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RegisterParticipantFlow"}]}]},{"type":"text","value":" as the flow for registration and "},{"type":"element","tag":"a","props":{"href":"https://gevamu.github.io/corda-payments-sdk/payments-workflows/com.gevamu.corda.flows/-participant-registration/index.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ParticipantRegistration"}]}]},{"type":"text","value":" as the participant registration record."}]},{"type":"element","tag":"h2","props":{"id":"registering-a-participant-node-using-classes-provided-by-gevamu-sdk"},"children":[{"type":"text","value":"Registering a Participant Node using classes provided by Gevamu SDK"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See an example of calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RegisterParticipantFlow"}]},{"type":"text","value":" below:"}]},{"type":"element","tag":"code","props":{"code":"import com.gevamu.corda.flows.ParticipantRegistration\nimport com.gevamu.corda.flows.RegisterParticipantFlow\nimport net.corda.core.identity.Party\nimport net.corda.core.node.services.CordaService\n\nclass GevamuFacade {\n  \n  fun registerParticipant(gateway: Party): ParticipantRegistration {\n        val flowHandle = serviceHub.startFlow(RegisterParticipantFlow(gateway))\n        return flowHandle.returnValue.get()\n    }\n}\n","language":"kotlin","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0cfd3b"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11bf14"},"children":[{"type":"text","value":"com.gevamu.corda.flows.ParticipantRegistration"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0cfd3b"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11bf14"},"children":[{"type":"text","value":"com.gevamu.corda.flows.RegisterParticipantFlow"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0cfd3b"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11bf14"},"children":[{"type":"text","value":"net.corda.core.identity.Party"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0cfd3b"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11bf14"},"children":[{"type":"text","value":"net.corda.core.node.services.CordaService"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0cfd3b"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11bf14"},"children":[{"type":"text","value":"GevamuFacade"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"  "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-0cfd3b"},"children":[{"type":"text","value":"fun"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3f136e"},"children":[{"type":"text","value":"registerParticipant"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"gateway"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-11bf14"},"children":[{"type":"text","value":"Party"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"class":"ct-11bf14"},"children":[{"type":"text","value":"ParticipantRegistration"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-0cfd3b"},"children":[{"type":"text","value":"val"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" flowHandle "}]},{"type":"element","tag":"span","props":{"class":"ct-2ba514"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" serviceHub.startFlow("}]},{"type":"element","tag":"span","props":{"class":"ct-11bf14"},"children":[{"type":"text","value":"RegisterParticipantFlow"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"(gateway))"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-0cfd3b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":" flowHandle.returnValue.get()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4dadb7"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RegisterParticipantFlow"}]},{"type":"text","value":" requests registration from the Gevamu Gateway node identified via the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Party"}]},{"type":"text","value":" instance.\nDepending on how you design your CorDapp, the flow to register the participant node can be started with an RPC call or using the "},{"type":"element","tag":"a","props":{"href":"https://docs.r3.com/en/api-ref/corda/4.8/open-source/kotlin/corda/net.corda.core.node/-service-hub/index.html","rel":["nofollow"],"target":"_blank"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"serviceHub"}]}]},{"type":"text","value":" as in the example above."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Upon successful registration, the Gateway node returns the participant registration record with the Participant ID and the BNO Network ID.\nThe structure of the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ParticipantRegistration"}]},{"type":"text","value":"  data class is shown below."}]},{"type":"element","tag":"mermaid","props":{"code":"Y2xhc3NEaWFncmFtCiAgY2xhc3MgUGFydGljaXBhbnRSZWdpc3RyYXRpb24gewogICAgbmV0d29ya0lkOiBTdHJpbmcKICAgIHBhcnRpY2lwYW50SWQ6IFN0cmluZwogIH0="},"children":[]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-2ba514{color:#56B6C2}\n.ct-3f136e{color:#61AFEF}\n.ct-11bf14{color:#E5C07B}\n.ct-4dadb7{color:#ABB2BF}\n.ct-0cfd3b{color:#C678DD}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"registering-a-participant-node-using-classes-provided-by-gevamu-sdk","depth":2,"text":"Registering a Participant Node using classes provided by Gevamu SDK"}]}},"_type":"markdown","_id":"content:4.examples:register-participant.md","_source":"content","_file":"4.examples/register-participant.md","_extension":"md"},{"_path":"/draft","_dir":"/draft","_draft":true,"_partial":false,"_locale":"","_empty":true,"title":"Draft","description":"This example shows how to send a payment from one account to another via Gevamu Payments Solution.","body":{},"_type":"markdown","_id":"content:_:draft","_source":"content","_file":"4.examples/send-payment.draft.md","_extension":"md","navigation":false}],"navigation":[{"title":"What's Gevamu?","_path":"/"},{"title":"Application","_path":"/application"},{"title":"Workflow","_path":"/workflow","children":[{"title":"1. BNO onboarding","_path":"/workflow/bno-onboarding"},{"title":"2. Participant onboarding","_path":"/workflow/participant-onboarding"},{"title":"3. Payment initiation","_path":"/workflow/payment-initiation"}]},{"title":"Examples","_path":"/examples","children":[{"title":"Query payment states","_path":"/examples/query-payment-states"},{"title":"Register","_path":"/examples/register-participant"}]}]}