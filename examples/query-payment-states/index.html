<!DOCTYPE html>
<html >
<head><meta charset="utf-8">
<title>Query payment states | Gevamu</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Documentation for Gevamu payment solution">
<link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="modulepreload" href="/examples/query-payment-states/_payload.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.3ba0642e.js"><link rel="preload" as="style" href="/_nuxt/entry.88573a44.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...slug_.02679c5a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.3d898c56.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.a6ef77ff.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.a8f47ad4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/asyncData.4c90c3d2.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/states.281f76a8.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_plugin-vue_export-helper.c27b6911.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/docs.99e573b6.js"><link rel="preload" as="style" href="/_nuxt/Header.d3ea053e.css"><link rel="preload" as="style" href="/_nuxt/Notice.9b683a4d.css"><link rel="preload" as="style" href="/_nuxt/ProseCode.e63e49c6.css"><link rel="preload" as="style" href="/_nuxt/IconCSS.05fd33c5.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Header.vue.907bdfcc.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Icon.4f5fc8b5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Icon.vue.3bc5e235.js"><link rel="preload" as="style" href="/_nuxt/Icon.1086b57f.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.19b5700e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentNavigation.2e2a32ba.js"><link rel="preload" as="style" href="/_nuxt/ContentNavigation.88b07d05.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.0e1add8a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.0573e2a4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Mermaid.ef893c58.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.0d1219dc.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.e3da3315.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.22db4032.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Notice.91bd9697.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.56a687f6.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.8203de8c.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/default.58949866.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/client-db.cf5634c4.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-component.53800cda.js"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/github.9ed7f916.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/facebook.baf8439d.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/twitter.dd85fa9f.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/linkedin.6bd1afdf.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/youtube.6f587a24.svg"><link rel="prefetch" as="image" type="image/svg+xml" href="/_nuxt/exactpro-logo.0b46f73e.svg"><link rel="prefetch" as="image" type="image/png" href="/_nuxt/header-bg.03c7c796.png"><link rel="prefetch" as="script" crossorigin href="/_nuxt/client-only.8ea2fce5.js"><link rel="stylesheet" href="/_nuxt/entry.88573a44.css"><link rel="stylesheet" href="/_nuxt/Header.d3ea053e.css"><link rel="stylesheet" href="/_nuxt/Notice.9b683a4d.css"><link rel="stylesheet" href="/_nuxt/ProseCode.e63e49c6.css"><link rel="stylesheet" href="/_nuxt/IconCSS.05fd33c5.css"><link rel="stylesheet" href="/_nuxt/Icon.1086b57f.css"><link rel="stylesheet" href="/_nuxt/ContentNavigation.88b07d05.css"><style>.gevamu-prose :where(h1,h2,h3,h4,h5,h6) a{text-decoration-line:none}</style><style>.icon[data-v-cf1ec82f]{display:inline-block;vertical-align:middle}</style><style>.e-footer__h2{display:block;font-size:1.5rem;font-weight:700;line-height:2rem}.e-footer__hr{--tw-bg-opacity:1;background-color:#53b57f;background-color:rgb(83 181 127/var(--tw-bg-opacity));border-radius:9999px;border-style:none;height:.25rem;margin-bottom:.25rem;margin-top:.25rem;width:8rem}</style><style>.active[data-v-233e6bed]{--tw-border-opacity:1;border-color:#4ade80;border-color:rgb(74 222 128/var(--tw-border-opacity));border-right-width:4px}li ul[data-v-233e6bed]{padding-left:.75rem}</style><style>.default[data-v-15fba0a1]{border-radius:.375rem;border-width:1px 1px 1px 8px;padding-left:.75rem;padding-right:.75rem}.note[data-v-15fba0a1]{background-color:#fefce8;background-color:rgb(254 252 232/var(--tw-bg-opacity));border-color:#ca8a04;border-color:rgb(202 138 4/var(--tw-border-opacity))}.info[data-v-15fba0a1],.note[data-v-15fba0a1]{--tw-border-opacity:1;--tw-bg-opacity:1}.info[data-v-15fba0a1]{background-color:#eff6ff;background-color:rgb(239 246 255/var(--tw-bg-opacity));border-color:#53b57f;border-color:rgb(83 181 127/var(--tw-border-opacity))}.warning[data-v-15fba0a1]{--tw-border-opacity:1;--tw-bg-opacity:1;background-color:#ebcece;background-color:rgb(235 206 206/var(--tw-bg-opacity));border-color:#b64c4c;border-color:rgb(182 76 76/var(--tw-border-opacity))}</style><style>pre code .line{display:block;min-height:1rem}</style></head>
<body ><div id="__nuxt"><!--[--><!--[--><!--[--><!----><!--]--><!--[--><div class="grid min-h-screen grid-rows-[1fr_auto]"><header class="w-full backdrop-blur fixed z-30"><div class="relative"><div class="e-header__background" style="background-image:url(/_nuxt/header-bg.03c7c796.png);"></div><div class="w-full flex justify-between items-center px-2 md:px-4"><div class="flex items-center"><button class="w-7 h-w-7 text-white lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon w-full h-full" style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-cf1ec82f><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/></svg></button><a href="/" class="flex items-center w-fit gap-2"><img src="data:image/png;base64,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" class="w-40 h-16 w-40 m-2"><span class="px-2 py-1 rounded-lg bg-accent-700 text-gray-50 font-semibold text-sm"> Docs </span></a></div></div></div></header><div class="pt-24 flex mx-auto w-fit flex-col-reverse md:grid md:max-w-screen-xl md:w-full md:grid-cols-[1fr_auto] lg:grid-cols-[auto_1fr_auto]"><aside class="-left-72 w-72 px-3 fixed z-20 h-full bg-neutral-50 top-0 transition-all lg:h-auto lg:relative lg:bg-inherit lg:left-0"><nav class="sticky top-32 overflow-hidden"><!--[--><ul><!--[--><li data-v-233e6bed><div class="border-accent-50 w-full flex items-center pl-5 py-1 border-r-2 hover:bg-gray-50 transition-colors" data-v-233e6bed><!----><a href="/" class="w-full" data-v-233e6bed><div data-v-233e6bed>What&#39;s Gevamu?</div></a></div><ul style="display:none;" data-v-233e6bed><!--[--><!--]--></ul></li><li data-v-233e6bed><div class="border-accent-50 w-full flex items-center pl-5 py-1 border-r-2 hover:bg-gray-50 transition-colors" data-v-233e6bed><!----><a href="/application" class="w-full" data-v-233e6bed><div data-v-233e6bed>Application</div></a></div><ul style="display:none;" data-v-233e6bed><!--[--><!--]--></ul></li><li data-v-233e6bed><div class="border-accent-50 w-full flex items-center pl-5 py-1 border-r-2 hover:bg-gray-50 transition-colors" data-v-233e6bed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon w-4 h-4 -ml-4 pr-1 transition-transform hover:cursor-pointer" data-v-233e6bed style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-cf1ec82f><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m8.25 4.5l7.5 7.5l-7.5 7.5"/></svg><a href="/workflow" class="w-full" data-v-233e6bed><div data-v-233e6bed>Workflow</div></a></div><ul style="display:none;" data-v-233e6bed><!--[--><li data-v-233e6bed data-v-233e6bed><div class="border-accent-50 w-full flex items-center pl-5 py-1 border-r-2 hover:bg-gray-50 transition-colors" data-v-233e6bed><!----><a href="/workflow/bno-onboarding" class="w-full" data-v-233e6bed><div data-v-233e6bed>1. BNO onboarding</div></a></div><ul style="display:none;" data-v-233e6bed><!--[--><!--]--></ul></li><li data-v-233e6bed data-v-233e6bed><div class="border-accent-50 w-full flex items-center pl-5 py-1 border-r-2 hover:bg-gray-50 transition-colors" data-v-233e6bed><!----><a href="/workflow/participant-onboarding" class="w-full" data-v-233e6bed><div data-v-233e6bed>2. Participant onboarding</div></a></div><ul style="display:none;" data-v-233e6bed><!--[--><!--]--></ul></li><li data-v-233e6bed data-v-233e6bed><div class="border-accent-50 w-full flex items-center pl-5 py-1 border-r-2 hover:bg-gray-50 transition-colors" data-v-233e6bed><!----><a href="/workflow/payment-initiation" class="w-full" data-v-233e6bed><div data-v-233e6bed>3. Payment initiation</div></a></div><ul style="display:none;" data-v-233e6bed><!--[--><!--]--></ul></li><!--]--></ul></li><li data-v-233e6bed><div class="border-accent w-full flex items-center pl-5 py-1 border-r-2 hover:bg-gray-50 transition-colors" data-v-233e6bed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon w-4 h-4 -ml-4 pr-1 transition-transform hover:cursor-pointer rotate-90" data-v-233e6bed style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-cf1ec82f><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m8.25 4.5l7.5 7.5l-7.5 7.5"/></svg><a href="/examples" class="w-full" data-v-233e6bed><div data-v-233e6bed>Examples</div></a></div><ul style="" data-v-233e6bed><!--[--><li data-v-233e6bed data-v-233e6bed><div class="border-accent bg-tertiary-50 w-full flex items-center pl-5 py-1 border-r-2 hover:bg-gray-50 transition-colors" data-v-233e6bed><!----><a aria-current="page" href="/examples/query-payment-states" class="router-link-active router-link-exact-active w-full" data-v-233e6bed><div data-v-233e6bed>Query payment states</div></a></div><ul style="display:none;" data-v-233e6bed><!--[--><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--]--></nav></aside><div class="translate-x-full fixed top-0 left-0 w-full h-full bg-black bg-opacity-70 z-10 transition-all md:hidden"></div><main><span></span><!--[--><article class="px-4 mt-10 mb-96"><!--[--><div class="gevamu-prose"><h1 id="query-payment-states"><!--[-->Query payment states<!--]--></h1><p><!--[-->Corda stores the state of a payment in the vault of the node that initiated the payment, so you can access the state of a payment by querying the vault.<!--]--></p><figure class="relative"><pre style="background:none;" class="opacity-0">classDiagram
  class MyPaymentService {
    + queryPaymentsViaGevamu()
  }
  class GevamuFacade {
    + getPayment()
    + queryPayments()
  }

  MyPaymentService ..&gt; GevamuFacade</pre><div><div class="absolute inset-0 font-serif"> Mermaid diagram is loading... </div></div></figure><h2 id="payment-structure"><a href="#payment-structure"><!--[-->Payment structure<!--]--></a></h2><p><!--[-->Structure of the <a href="https://gevamu.github.io/corda-payments-sdk/payments-contracts/com.gevamu.corda.states/-payment/index.html" rel="nofollow"><!--[--><code><!--[-->Payment<!--]--></code><!--]--></a> state is as follows:<!--]--></p><figure class="relative"><pre style="background:none;" class="opacity-0">classDiagram
  class Payment {
    + payer: Party
    + gateway: Party
    + endToEndId: String
    + paymentInstructionId: AttachmentId
    + status: PaymentStatus
    + additionalInfo: String?
    + uniquePaymentId: UUID
    + timestamp: Instant
  }

  class PaymentStatus{
    &lt;&lt;enumeration&gt;&gt;
    CREATED
    SENT_TO_GATEWAY
    ACCEPTED
    PENDING
    COMPLETED
    REJECTED
  }

  class Attachment {
    &lt;&lt;interface&gt;&gt;
    + id: SecureHash
    + open(): InputStream
  }

  Payment o-- PaymentStatus
  Payment .. Attachment: paymentInstructionId --&gt; id</pre><div><div class="absolute inset-0 font-serif"> Mermaid diagram is loading... </div></div></figure><div class="default info" data-v-15fba0a1><!--[--><p><!--[-->Note that the full payment instruction is stored as a Corda <a href="https://docs.r3.com/en/api-ref/corda/4.8/open-source/javadoc/net/corda/core/contracts/Attachment.html" rel="nofollow"><!--[--><code><!--[-->Attachment<!--]--></code><!--]--></a>.<!--]--></p><!--]--></div><h2 id="about-vault-queries"><a href="#about-vault-queries"><!--[-->About vault queries<!--]--></a></h2><p><!--[-->Every Corda node has a vault that stores all the states created by the node (in our case, the <code><!--[-->Payment<!--]--></code> states).<!--]--></p><p><!--[-->Corda provides a powerful query language to search for states in the vault – learn more about <a href="https://docs.r3.com/en/platform/corda/4.7/enterprise/cordapps/api-vault-query.html" rel="nofollow"><!--[-->Writing vault queries<!--]--></a> in Corda documentation.<!--]--></p><div class="default warning" data-v-15fba0a1><!--[--><p><!--[-->Gevamu SDK doesn&#39;t provide any ready-to-use solution for querying by payments details stored in the attachment. However, you can create additional tables with the information needed for your business needs and use them in vault queries.
To get all payment details from the attachment, download and deserialize it.<!--]--></p><!--]--></div><p><!--[-->To create queries for the Gevamu payments, use the following imports:<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-e54ee0">// Corda imports</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">net.corda.core.node.services.vault.QueryCriteria</span></div><div class="line"><span class="ct-e54ee0">// Gevamu SDK imports</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">com.gevamu.corda.schema.PaymentSchemaV1</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">com.gevamu.corda.states.Payment</span></div></code></pre><!--]--><h2 id="get-a-single-payment"><a href="#get-a-single-payment"><!--[-->Get a single payment<!--]--></a></h2><p><!--[-->To find a unique payment, search by the <code><!--[-->uniquePaymentId<!--]--></code> field, accepted by the <code><!--[-->getPayment<!--]--></code> method as a parameter.<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">java.util.UUID</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">net.corda.core.node.services.vault.QueryCriteria</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">com.gevamu.corda.schema.PaymentSchemaV1</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">com.gevamu.corda.states.Payment</span></div><div class="line"></div><div class="line"><span class="ct-bf6a2c">class</span><span class="ct-756192"> </span><span class="ct-92c3f4">GevamuFacade</span><span class="ct-756192"> {</span></div><div class="line"><span class="ct-756192">    </span><span class="ct-bf6a2c">fun</span><span class="ct-756192"> </span><span class="ct-77c231">getPayment</span><span class="ct-756192">(</span><span class="ct-756192">uniquePaymentId</span><span class="ct-756192">: </span><span class="ct-92c3f4">UUID</span><span class="ct-756192">): </span><span class="ct-92c3f4">StateAndRef</span><span class="ct-08c739">&lt;</span><span class="ct-92c3f4">Payment</span><span class="ct-08c739">&gt;</span><span class="ct-756192">? {</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-e54ee0">// Create custom query criteria to search by id</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-bf6a2c">val</span><span class="ct-756192"> criteria </span><span class="ct-08c739">=</span><span class="ct-756192"> </span><span class="ct-92c3f4">QueryCriteria</span><span class="ct-756192">.</span><span class="ct-92c3f4">VaultCustomQueryCriteria</span><span class="ct-756192">(</span></div><div class="line"><span class="ct-756192">            </span><span class="ct-e54ee0">// Pay attention to method `equal` here. It is not `equals`!</span></div><div class="line"><span class="ct-756192">            </span><span class="ct-92c3f4">PaymentSchemaV1</span><span class="ct-756192">.</span><span class="ct-756192">PersistentPayment</span><span class="ct-756192">::uniquePaymentId.equal(uniquePaymentId)</span></div><div class="line"><span class="ct-756192">        )</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-e54ee0">// Query vault and return single payment state</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-bf6a2c">return</span><span class="ct-756192"> serviceHub.vaultService.queryBy</span><span class="ct-08c739">&lt;</span><span class="ct-92c3f4">Payment</span><span class="ct-08c739">&gt;</span><span class="ct-756192">(criteria).states.singleOrNull()</span></div><div class="line"><span class="ct-756192">    }</span></div><div class="line"><span class="ct-756192">}</span></div></code></pre><!--]--><h2 id="query-payments"><a href="#query-payments"><!--[-->Query payments<!--]--></a></h2><p><!--[-->Search criteria for payments can be unique to particular businesses. The following example shows a generic method for querying payments.<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">net.corda.core.node.services.vault.QueryCriteria</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">com.gevamu.corda.states.Payment</span></div><div class="line"></div><div class="line"><span class="ct-bf6a2c">class</span><span class="ct-756192"> </span><span class="ct-92c3f4">GevamuFacade</span><span class="ct-756192"> {</span></div><div class="line"><span class="ct-756192">    </span><span class="ct-bf6a2c">fun</span><span class="ct-756192"> </span><span class="ct-77c231">queryPayments</span><span class="ct-756192">(</span><span class="ct-756192">criteria</span><span class="ct-756192">: </span><span class="ct-92c3f4">QueryCriteria</span><span class="ct-756192">): </span><span class="ct-92c3f4">List</span><span class="ct-08c739">&lt;</span><span class="ct-92c3f4">StateAndRef</span><span class="ct-08c739">&lt;</span><span class="ct-92c3f4">Payment</span><span class="ct-08c739">&gt;&gt;</span><span class="ct-756192"> {</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-e54ee0">// Query vault and return list of payment states</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-bf6a2c">return</span><span class="ct-756192"> serviceHub.vaultService.queryBy</span><span class="ct-08c739">&lt;</span><span class="ct-92c3f4">Payment</span><span class="ct-08c739">&gt;</span><span class="ct-756192">(criteria).states</span></div><div class="line"><span class="ct-756192">    }</span></div><div class="line"><span class="ct-756192">}</span></div></code></pre><!--]--><h3 id="query-payments-by-date-range"><a href="#query-payments-by-date-range"><!--[-->Query payments by date range<!--]--></a></h3><p><!--[-->Querying objects by a date range is a common task for many businesses. The following example shows how to implement this functionality.<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">java.time.Instant</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">net.corda.core.node.services.vault.QueryCriteria</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">com.gevamu.corda.schema.PaymentSchemaV1</span></div><div class="line"><span class="ct-bf6a2c">import</span><span class="ct-756192"> </span><span class="ct-92c3f4">com.gevamu.corda.states.Payment</span></div><div class="line"></div><div class="line"><span class="ct-bf6a2c">class</span><span class="ct-756192"> </span><span class="ct-92c3f4">GevamuFacade</span><span class="ct-756192"> {</span></div><div class="line"><span class="ct-756192">    </span><span class="ct-bf6a2c">fun</span><span class="ct-756192"> </span><span class="ct-77c231">queryPaymentsByDateRange</span><span class="ct-756192">(</span><span class="ct-756192">from</span><span class="ct-756192">: </span><span class="ct-92c3f4">Instant</span><span class="ct-756192">, </span><span class="ct-756192">to</span><span class="ct-756192">: </span><span class="ct-92c3f4">Instant</span><span class="ct-756192">): </span><span class="ct-92c3f4">List</span><span class="ct-08c739">&lt;</span><span class="ct-92c3f4">StateAndRef</span><span class="ct-08c739">&lt;</span><span class="ct-92c3f4">Payment</span><span class="ct-08c739">&gt;&gt;</span><span class="ct-756192"> {</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-e54ee0">// Create custom query criteria to search by date range</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-bf6a2c">val</span><span class="ct-756192"> criteria </span><span class="ct-08c739">=</span><span class="ct-756192"> </span><span class="ct-92c3f4">QueryCriteria</span><span class="ct-756192">.</span><span class="ct-92c3f4">VaultCustomQueryCriteria</span><span class="ct-756192">(</span></div><div class="line"><span class="ct-756192">            </span><span class="ct-92c3f4">PaymentSchemaV1</span><span class="ct-756192">.</span><span class="ct-756192">PersistentPayment</span><span class="ct-756192">::timestamp.between(from, to)</span></div><div class="line"><span class="ct-756192">        )</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-e54ee0">// Query vault and return list of payment states</span></div><div class="line"><span class="ct-756192">        </span><span class="ct-bf6a2c">return</span><span class="ct-756192"> serviceHub.vaultService.queryBy</span><span class="ct-08c739">&lt;</span><span class="ct-92c3f4">Payment</span><span class="ct-08c739">&gt;</span><span class="ct-756192">(criteria).states</span></div><div class="line"><span class="ct-756192">    }</span></div><div class="line"><span class="ct-756192">}</span></div></code></pre><!--]--><style>.ct-08c739{color:#56B6C2}
.ct-77c231{color:#61AFEF}
.ct-92c3f4{color:#E5C07B}
.ct-756192{color:#ABB2BF}
.ct-bf6a2c{color:#C678DD}
.ct-e54ee0{color:#7F848E}</style></div><!--]--></article><!--]--></main><aside class="px-4 md:px-0 md:w-72"><nav class="md:sticky md:z-0 md:top-32 md:overflow-hidden"><h1 class="text-neutral-500 mb-2"> On this page: </h1><ul><!--[--><li><a href="#payment-structure"><div class="font-semibold hover:translate-x-2 py-1 transition-all">Payment structure</div></a><!----></li><li><a href="#about-vault-queries"><div class="font-semibold hover:translate-x-2 py-1 transition-all">About vault queries</div></a><!----></li><li><a href="#get-a-single-payment"><div class="font-semibold hover:translate-x-2 py-1 transition-all">Get a single payment</div></a><!----></li><li><a href="#query-payments"><div class="font-semibold hover:translate-x-2 py-1 transition-all">Query payments</div></a><ul><!--[--><li><a href="#query-payments-by-date-range"><div class="pl-2 hover:translate-x-2 py-1 transition-all">Query payments by date range</div></a><!----></li><!--]--></ul></li><!--]--></ul></nav><hr class="mt-5 md:hidden"></aside></div><footer class="font-sans bg-primary box-border text-white py-6 px-4"><div class="p-3 m-auto max-w-5xl"><div class="flex justify-between gap-3 flex-col items-center md:flex-row md:items-start"><div class="flex flex-col items-center"><a href="https://exactpro.com/" target="_blank"><img class="w-full h-auto" src="/_nuxt/exactpro-logo.0b46f73e.svg" alt="exactpro logo"></a><span>Build Software to Test Software</span></div><div class="flex flex-col items-center md:items-start"><h2 class="e-footer__h2">Contact Us</h2><hr class="e-footer__hr"><ul class="flex flex-col justify-center m-1"><li><a href="mailto:docops@exactpro.com"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon inline-block mr-3" style="" width="1.5em" height="1.5em" viewBox="0 0 24 24" data-v-cf1ec82f><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"/></svg>docops@exactpro.com</a></li><li><a href="mailto:info@exactpro.com"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon inline-block mr-3" style="" width="1.5em" height="1.5em" viewBox="0 0 24 24" data-v-cf1ec82f><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"/></svg>info@exactpro.com</a></li><li><a href="tel:+4402033191644"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon inline-block mr-3" style="" width="1.5em" height="1.5em" viewBox="0 0 24 24" data-v-cf1ec82f><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"/></svg>+44 (0) 20 3319 1644</a></li><li><a href="tel:+16463403000"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon inline-block mr-3" style="" width="1.5em" height="1.5em" viewBox="0 0 24 24" data-v-cf1ec82f><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"/></svg>+1 (646) 340 3000</a></li></ul></div><div class="flex flex-col items-center md:items-start"><h2 class="e-footer__h2">Follow Us</h2><hr class="e-footer__hr"><div class="flex flex-wrap gap-2 pt-2"><a href="https://github.com/exactpro" target="_blank"><img src="/_nuxt/github.9ed7f916.svg" alt="link to exactpro GitHub page"></a><a href="https://www.facebook.com/exactpro/" target="_blank"><img src="/_nuxt/facebook.baf8439d.svg" alt="link to exactpro Facebook page"></a><a href="https://twitter.com/exactpro" target="_blank"><img src="/_nuxt/twitter.dd85fa9f.svg" size="2em" alt="link to exactpro Twitter page"></a><a href="https://www.linkedin.com/company/exactpro-systems-llc?trk=biz-companies-cym" target="_blank"><img src="/_nuxt/linkedin.6bd1afdf.svg" alt="link to exactpro LinkedIn page"></a><a href="https://www.youtube.com/c/exactprosystems" target="_blank"><img src="/_nuxt/youtube.6f587a24.svg" alt="link to exactpro Youtube account"></a></div></div></div><hr class="my-12 w-full h-0 border-neutral-400 border-0 border-t-[thin]"><div class="my-5 text-sm text-center"> Copyright © 2009 - 2023 Exactpro. All Rights Reserved. Exactpro refers to Exactpro Systems Limited, registered in England and Wales, and/or one of its subsidiaries, each of which is a separate legal entity, registered in the relevant jurisdictions. </div><div class="flex flex-wrap justify-center underline text-sm gap-2"><a href="https://exactpro.com/terms-and-conditions" target="_blank">Terms and Conditions</a><a href="https://exactpro.com/privacy-policy" target="_blank">Privacy Policy</a><a href="https://exactpro.com/cookies-policy" target="_blank">Cookies Policy</a></div></div></footer></div><!--]--><!--]--><!--]--></div><script type="module">import p from "/examples/query-payment-states/_payload.js";window.__NUXT__={...p,...((function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH){return {state:{"$sdd-pages":{"/examples/query-payment-states":{_path:ai,_dir:"examples",_draft:j,_partial:j,_locale:l,_empty:j,title:J,description:aj,body:{type:"root",children:[{type:a,tag:"h1",props:{id:"query-payment-states"},children:[{type:b,value:J}]},{type:a,tag:p,props:{},children:[{type:b,value:aj}]},{type:a,tag:ak,props:{code:"Y2xhc3NEaWFncmFtCiAgY2xhc3MgTXlQYXltZW50U2VydmljZSB7CiAgICArIHF1ZXJ5UGF5bWVudHNWaWFHZXZhbXUoKQogIH0KICBjbGFzcyBHZXZhbXVGYWNhZGUgewogICAgKyBnZXRQYXltZW50KCkKICAgICsgcXVlcnlQYXltZW50cygpCiAgfQoKICBNeVBheW1lbnRTZXJ2aWNlIC4uPiBHZXZhbXVGYWNhZGU="},children:[]},{type:a,tag:C,props:{id:K},children:[{type:b,value:L}]},{type:a,tag:p,props:{},children:[{type:b,value:"Structure of the "},{type:a,tag:M,props:{href:"https:\u002F\u002Fgevamu.github.io\u002Fcorda-payments-sdk\u002Fpayments-contracts\u002Fcom.gevamu.corda.states\u002F-payment\u002Findex.html",rel:[N]},children:[{type:a,tag:x,props:{},children:[{type:b,value:r}]}]},{type:b,value:" state is as follows:"}]},{type:a,tag:ak,props:{code:"Y2xhc3NEaWFncmFtCiAgY2xhc3MgUGF5bWVudCB7CiAgICArIHBheWVyOiBQYXJ0eQogICAgKyBnYXRld2F5OiBQYXJ0eQogICAgKyBlbmRUb0VuZElkOiBTdHJpbmcKICAgICsgcGF5bWVudEluc3RydWN0aW9uSWQ6IEF0dGFjaG1lbnRJZAogICAgKyBzdGF0dXM6IFBheW1lbnRTdGF0dXMKICAgICsgYWRkaXRpb25hbEluZm86IFN0cmluZz8KICAgICsgdW5pcXVlUGF5bWVudElkOiBVVUlECiAgICArIHRpbWVzdGFtcDogSW5zdGFudAogIH0KCiAgY2xhc3MgUGF5bWVudFN0YXR1c3sKICAgIDw8ZW51bWVyYXRpb24+PgogICAgQ1JFQVRFRAogICAgU0VOVF9UT19HQVRFV0FZCiAgICBBQ0NFUFRFRAogICAgUEVORElORwogICAgQ09NUExFVEVECiAgICBSRUpFQ1RFRAogIH0KCiAgY2xhc3MgQXR0YWNobWVudCB7CiAgICA8PGludGVyZmFjZT4+CiAgICArIGlkOiBTZWN1cmVIYXNoCiAgICArIG9wZW4oKTogSW5wdXRTdHJlYW0KICB9CgogIFBheW1lbnQgby0tIFBheW1lbnRTdGF0dXMKICBQYXltZW50IC4uIEF0dGFjaG1lbnQ6IHBheW1lbnRJbnN0cnVjdGlvbklkIC0tPiBpZA=="},children:[]},{type:a,tag:al,props:{":info":am,info:w},children:[{type:a,tag:p,props:{},children:[{type:b,value:"Note that the full payment instruction is stored as a Corda "},{type:a,tag:M,props:{href:"https:\u002F\u002Fdocs.r3.com\u002Fen\u002Fapi-ref\u002Fcorda\u002F4.8\u002Fopen-source\u002Fjavadoc\u002Fnet\u002Fcorda\u002Fcore\u002Fcontracts\u002FAttachment.html",rel:[N]},children:[{type:a,tag:x,props:{},children:[{type:b,value:"Attachment"}]}]},{type:b,value:y}]}]},{type:a,tag:C,props:{id:O},children:[{type:b,value:P}]},{type:a,tag:p,props:{},children:[{type:b,value:"Every Corda node has a vault that stores all the states created by the node (in our case, the "},{type:a,tag:x,props:{},children:[{type:b,value:r}]},{type:b,value:" states)."}]},{type:a,tag:p,props:{},children:[{type:b,value:"Corda provides a powerful query language to search for states in the vault – learn more about "},{type:a,tag:M,props:{href:"https:\u002F\u002Fdocs.r3.com\u002Fen\u002Fplatform\u002Fcorda\u002F4.7\u002Fenterprise\u002Fcordapps\u002Fapi-vault-query.html",rel:[N]},children:[{type:b,value:"Writing vault queries"}]},{type:b,value:" in Corda documentation."}]},{type:a,tag:al,props:{":warning":am,warning:w},children:[{type:a,tag:p,props:{},children:[{type:b,value:"Gevamu SDK doesn't provide any ready-to-use solution for querying by payments details stored in the attachment. However, you can create additional tables with the information needed for your business needs and use them in vault queries.\nTo get all payment details from the attachment, download and deserialize it."}]}]},{type:a,tag:p,props:{},children:[{type:b,value:"To create queries for the Gevamu payments, use the following imports:"}]},{type:a,tag:s,props:{code:"\u002F\u002F Corda imports\nimport net.corda.core.node.services.vault.QueryCriteria\n\u002F\u002F Gevamu SDK imports\nimport com.gevamu.corda.schema.PaymentSchemaV1\nimport com.gevamu.corda.states.Payment\n",language:D,meta:z},children:[{type:a,tag:E,props:{},children:[{type:a,tag:s,props:{__ignoreMap:l},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:t},children:[{type:b,value:"\u002F\u002F Corda imports"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:F}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:t},children:[{type:b,value:"\u002F\u002F Gevamu SDK imports"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:Q}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:G}]}]}]}]}]},{type:a,tag:C,props:{id:R},children:[{type:b,value:S}]},{type:a,tag:p,props:{},children:[{type:b,value:"To find a unique payment, search by the "},{type:a,tag:x,props:{},children:[{type:b,value:an}]},{type:b,value:" field, accepted by the "},{type:a,tag:x,props:{},children:[{type:b,value:ao}]},{type:b,value:" method as a parameter."}]},{type:a,tag:s,props:{code:"import java.util.UUID\nimport net.corda.core.node.services.vault.QueryCriteria\nimport com.gevamu.corda.schema.PaymentSchemaV1\nimport com.gevamu.corda.states.Payment\n\nclass GevamuFacade {\n    fun getPayment(uniquePaymentId: UUID): StateAndRef\u003CPayment\u003E? {\n        \u002F\u002F Create custom query criteria to search by id\n        val criteria = QueryCriteria.VaultCustomQueryCriteria(\n            \u002F\u002F Pay attention to method `equal` here. It is not `equals`!\n            PaymentSchemaV1.PersistentPayment::uniquePaymentId.equal(uniquePaymentId)\n        )\n        \u002F\u002F Query vault and return single payment state\n        return serviceHub.vaultService.queryBy\u003CPayment\u003E(criteria).states.singleOrNull()\n    }\n}\n",language:D,meta:z},children:[{type:a,tag:E,props:{},children:[{type:a,tag:s,props:{__ignoreMap:l},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:"java.util.UUID"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:F}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:Q}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:A}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:V}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:X},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:B}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:"UUID"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"? {"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"\u002F\u002F Create custom query criteria to search by id"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:as}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:B}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"\u002F\u002F Pay attention to method `equal` here. It is not `equals`!"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"::uniquePaymentId.equal(uniquePaymentId)"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:av}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"\u002F\u002F Query vault and return single payment state"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(criteria).states.singleOrNull()"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ac}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]}]}]}]},{type:a,tag:C,props:{id:ae},children:[{type:b,value:af}]},{type:a,tag:p,props:{},children:[{type:b,value:"Search criteria for payments can be unique to particular businesses. The following example shows a generic method for querying payments."}]},{type:a,tag:s,props:{code:"import net.corda.core.node.services.vault.QueryCriteria\nimport com.gevamu.corda.states.Payment\n\nclass GevamuFacade {\n    fun queryPayments(criteria: QueryCriteria): List\u003CStateAndRef\u003CPayment\u003E\u003E {\n        \u002F\u002F Query vault and return list of payment states\n        return serviceHub.vaultService.queryBy\u003CPayment\u003E(criteria).states\n    }\n}\n",language:D,meta:z},children:[{type:a,tag:E,props:{},children:[{type:a,tag:s,props:{__ignoreMap:l},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:F}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:A}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:V}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:X},children:[{type:b,value:"queryPayments"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:B}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"criteria"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:A}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:ay}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:az}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ac}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]}]}]}]},{type:a,tag:"h3",props:{id:ag},children:[{type:b,value:ah}]},{type:a,tag:p,props:{},children:[{type:b,value:"Querying objects by a date range is a common task for many businesses. The following example shows how to implement this functionality."}]},{type:a,tag:s,props:{code:"import java.time.Instant\nimport net.corda.core.node.services.vault.QueryCriteria\nimport com.gevamu.corda.schema.PaymentSchemaV1\nimport com.gevamu.corda.states.Payment\n\nclass GevamuFacade {\n    fun queryPaymentsByDateRange(from: Instant, to: Instant): List\u003CStateAndRef\u003CPayment\u003E\u003E {\n        \u002F\u002F Create custom query criteria to search by date range\n        val criteria = QueryCriteria.VaultCustomQueryCriteria(\n            PaymentSchemaV1.PersistentPayment::timestamp.between(from, to)\n        )\n        \u002F\u002F Query vault and return list of payment states\n        return serviceHub.vaultService.queryBy\u003CPayment\u003E(criteria).states\n    }\n}\n",language:D,meta:z},children:[{type:a,tag:E,props:{},children:[{type:a,tag:s,props:{__ignoreMap:l},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:"java.time.Instant"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:F}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:Q}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:h},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:A}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:V}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:X},children:[{type:b,value:"queryPaymentsByDateRange"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:B}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"from"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:aA}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", "}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"to"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:aA}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:A}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:"\u002F\u002F Create custom query criteria to search by date range"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:_}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:as}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:B}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"::timestamp.between(from, to)"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:av}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:t},children:[{type:b,value:ay}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:I}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:az}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ac}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]}]}]}]},{type:a,tag:"style",children:[{type:b,value:".ct-08c739{color:#56B6C2}\n.ct-77c231{color:#61AFEF}\n.ct-92c3f4{color:#E5C07B}\n.ct-756192{color:#ABB2BF}\n.ct-bf6a2c{color:#C678DD}\n.ct-e54ee0{color:#7F848E}"}]}],toc:{title:l,searchDepth:n,depth:n,links:[{id:K,depth:n,text:L},{id:O,depth:n,text:P},{id:R,depth:n,text:S},{id:ae,depth:n,text:af,children:[{id:ag,depth:aB,text:ah}]}]}},_type:aC,_id:"content:4.examples:query-payment-states.md",_source:aD,_file:"4.examples\u002Fquery-payment-states.md",_extension:aE,layout:"docs"}},"$sdd-surrounds":{"/examples/query-payment-states":[{_path:aF,_dir:"workflow",_draft:j,_partial:j,_locale:l,_empty:j,title:aG,description:l,_type:aC,_id:"content:3.workflow:4.payment-initiation.md",_source:aD,_file:"3.workflow\u002F4.payment-initiation.md",_extension:aE},z]},"$sdd-globals":{},"$sdd-navigation":[{title:"What's Gevamu?",_path:aH},{title:"Application",_path:"\u002Fapplication"},{title:"Workflow",_path:"\u002Fworkflow",children:[{title:"1. BNO onboarding",_path:"\u002Fworkflow\u002Fbno-onboarding"},{title:"2. Participant onboarding",_path:"\u002Fworkflow\u002Fparticipant-onboarding"},{title:aG,_path:aF}]},{title:"Examples",_path:"\u002Fexamples",children:[{title:J,_path:ai}]}],$stoc:{title:l,searchDepth:n,depth:n,links:[{id:K,depth:n,text:L},{id:O,depth:n,text:P},{id:R,depth:n,text:S},{id:ae,depth:n,text:af,children:[{id:ag,depth:aB,text:ah}]}]},$sshowContentTree:j,$sicons:{"heroicons:bars-3":{left:o,top:o,width:v,height:v,rotate:o,vFlip:j,hFlip:j,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\"\u002F\u003E"},"heroicons:envelope":{left:o,top:o,width:v,height:v,rotate:o,vFlip:j,hFlip:j,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75\"\u002F\u003E"},"heroicons:phone":{left:o,top:o,width:v,height:v,rotate:o,vFlip:j,hFlip:j,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z\"\u002F\u003E"},"heroicons:chevron-right":{left:o,top:o,width:v,height:v,rotate:o,vFlip:j,hFlip:j,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"m8.25 4.5l7.5 7.5l-7.5 7.5\"\u002F\u003E"}}},_errors:{},serverRendered:w,config:{public:{content:{locales:[],defaultLocale:l,integrity:1685943959426,experimental:{stripQueryParameters:j,clientDB:j},api:{baseURL:"\u002Fapi\u002F_content"},navigation:{fields:["layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"one-dark-pro"},wsUrl:l,documentDriven:{page:w,navigation:w,surround:w,globals:{},layoutFallbacks:["theme"],injectPage:w},host:l,trailingSlash:j,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:aH,buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:l}},prerenderedAt:void 0}}("element","text","span","ct-756192","div","line","ct-92c3f4","ct-bf6a2c"," ",false,"ct-08c739","","import",2,0,"p","        ","Payment","code","ct-e54ee0","\u003C",24,true,"code-inline",".",null," {","(","h2","kotlin","pre","net.corda.core.node.services.vault.QueryCriteria","com.gevamu.corda.states.Payment",": ","\u003E","Query payment states","payment-structure","Payment structure","a","nofollow","about-vault-queries","About vault queries","com.gevamu.corda.schema.PaymentSchemaV1","get-a-single-payment","Get a single payment","class","GevamuFacade","    ","fun","ct-77c231","): ","StateAndRef","QueryCriteria","            ","return"," serviceHub.vaultService.queryBy","    }","}","query-payments","Query payments","query-payments-by-date-range","Query payments by date range","\u002Fexamples\u002Fquery-payment-states","Corda stores the state of a payment in the vault of the node that initiated the payment, so you can access the state of a payment by querying the vault.","mermaid","notice","true","uniquePaymentId","getPayment","val"," criteria ","=","VaultCustomQueryCriteria","PaymentSchemaV1","PersistentPayment","        )","List","\u003E\u003E","\u002F\u002F Query vault and return list of payment states","(criteria).states","Instant",3,"markdown","content","md","\u002Fworkflow\u002Fpayment-initiation","3. Payment initiation","\u002F")))}</script><script type="module" src="/_nuxt/entry.3ba0642e.js" crossorigin></script></body>
</html>